add_library(folk_engine STATIC)
set_property(TARGET folk_engine PROPERTY FOLDER lib)
target_compile_features(folk_engine PUBLIC cxx_std_17)

target_include_directories(folk_engine PUBLIC ${FOLK_INCLUDE_DIR})
target_include_directories(folk_engine PRIVATE ${EXTERN_INCLUDE_DIRS})
target_link_libraries(folk_engine ${FOLK_LIBS})

function(add_engine_subdir FOLDER)
    set(LIB_FILES "")
    add_subdirectory(${FOLDER})
    list(TRANSFORM LIB_FILES PREPEND "${FOLDER}/")
    target_sources(folk_engine PRIVATE ${LIB_FILES})
endfunction(add_engine_subdir)

add_engine_subdir(audio)
add_engine_subdir(core)
add_engine_subdir(render)
add_engine_subdir(scene)
add_engine_subdir(simulation)
add_engine_subdir(utils)
add_engine_subdir(window)
add_engine_subdir(exception)
add_engine_subdir(input)